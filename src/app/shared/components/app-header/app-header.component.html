<header class="header">
  <div class="app-container header-inner">

    <a routerLink="/" class="logo">
      <img *ngIf="logoUrl()" [src]="logoUrl()" [alt]="websiteName()" class="logo-image" />
      <span>{{ websiteName() }}</span>
    </a>
    <nav class="nav">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }"
        >Home</a
      >
    
      <ng-container *ngIf="isLoggedIn(); else adminLink">

        <div class="profile-dropdown">
          <button
            type="button"
            class="profile-button"
            (click)="toggleDropdown()"
            [attr.aria-expanded]="dropdownOpen()"
            aria-label="User menu"
          >
            <svg
              class="profile-icon"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </button>
          <div class="dropdown-menu" *ngIf="dropdownOpen()">
            <div class="dropdown-header">
              <span class="dropdown-email">{{ userEmail() }}</span>
            </div>
            <button type="button" class="dropdown-item" (click)="goToDashboard()">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
              </svg>
              Admin Dashboard
            </button>
            <button type="button" class="dropdown-item" (click)="logout()">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
              </svg>
              Logout
            </button>
          </div>
        </div>
      </ng-container>
      <ng-template #adminLink>
        <a routerLink="/admin/login" routerLinkActive="active">Login</a>
      </ng-template>
    </nav>
  </div>
</header>
